function Insurance(e,t,s){this.brand=e,this.year=t,this.type=s}function UserInterface(){}Insurance.prototype.calculateCost=function(){let e;switch(this.brand){case"1":e=2300;break;case"2":e=2100;break;case"3":e=2700}return e-=3*((new Date).getFullYear()-this.year)*e/100,"basico"===this.type?e*=1.3:"completo"===this.type&&(e*=1.5),e},UserInterface.prototype.fillOptions=()=>{const e=document.querySelector("#year"),t=(new Date).getFullYear(),s=t-20;for(let n=t;n>=s;n--){const t=document.createElement("option");t.value=n,t.textContent=n,e.appendChild(t)}},UserInterface.prototype.showMessages=(e,t)=>{const s=document.querySelector(".alert--"+t);if(s)return void(s.textContent=e);const n=document.createElement("div");"error"===t?n.classList.add("alert","alert--error"):n.classList.add("alert","alert--success"),n.classList.add("message"),n.textContent=e;document.querySelector("#quotation-results").appendChild(n),setTimeout(()=>{n.remove()},3e3)},UserInterface.prototype.showResults=(e,t)=>{const{brand:s,year:n,type:a}=e;switch(s){case"1":brandText="Americano";break;case"2":brandText="Asiático";break;case"3":brandText="Europeo"}switch(a){case"basic":typeText="Básico";break;case"complete":typeText="Completo"}const r=document.createElement("div");r.classList.add("result"),r.innerHTML=`\n    <h3 class="result__heading">Resultado de tu cotización</h3>\n    <ul class="result__list">\n      <li class="result__item"><span>Tipo de marca: </span> ${brandText}</li>\n      <li class="result__item"><span>Año de fabricación: </span> ${n}</li>\n      <li class="result__item"><span>Tipo de seguro: </span> ${typeText}</li>\n      <li class="result__item"><span>Total: </span> ${t}</li>\n    </ul>\n  `;const o=document.querySelector("#loader");o.classList.add("loader--active"),setTimeout(()=>{o.classList.remove("loader--active"),cleanHtml();document.querySelector("#quotation-results").appendChild(r)},3e3)};const userInterface=new UserInterface;function startApp(){userInterface.fillOptions(),handleFormEvents()}function handleFormEvents(){document.querySelector("#quote-form").addEventListener("submit",quoteInsurance)}function quoteInsurance(e){e.preventDefault(),cleanHtml();const t=document.querySelector("#brand").value,s=document.querySelector("#year").value,n=document.querySelector('input[name="type"]:checked').value;if(""===t||""===s||""===n)return void userInterface.showMessages("Por favor, complete todos los campos","error");userInterface.showMessages("Cargando...","success");const a=new Insurance(t,s,n),r=a.calculateCost();userInterface.showResults(a,r)}function cleanHtml(){const e=document.querySelectorAll(".result");console.log(e),e.forEach(e=>{e.remove()})}document.addEventListener("DOMContentLoaded",startApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiSW5zdXJhbmNlIiwiYnJhbmQiLCJ5ZWFyIiwidHlwZSIsInRoaXMiLCJVc2VySW50ZXJmYWNlIiwicHJvdG90eXBlIiwiY2FsY3VsYXRlQ29zdCIsImNvdW50IiwiYmFzZUNvc3QiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJmaWxsT3B0aW9ucyIsInNlbGVjdFllYXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtYXgiLCJtaW4iLCJpIiwib3B0aW9uWWVhciIsImNyZWF0ZUVsZW1lbnQiLCJ2YWx1ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzaG93TWVzc2FnZXMiLCJtZXNzYWdlIiwiZXhpc3RpbmdNZXNzYWdlIiwiYWxlcnRNZXNzYWdlIiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsInNob3dSZXN1bHRzIiwiaW5zdXJhbmNlIiwidG90YWwiLCJicmFuZFRleHQiLCJ0eXBlVGV4dCIsImRpdlJlc3VsdCIsImlubmVySFRNTCIsImxvYWRlciIsImNsZWFuSHRtbCIsInVzZXJJbnRlcmZhY2UiLCJzdGFydEFwcCIsImhhbmRsZUZvcm1FdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwicXVvdGVJbnN1cmFuY2UiLCJlIiwicHJldmVudERlZmF1bHQiLCJzZWxlY3RlZEJyYW5kIiwic2VsZWN0ZWRZZWFyIiwic2VsZWN0ZWRUeXBlIiwiY2FySW5zdXJhbmNlIiwiZXhpc3RpbmdSZXN1bHRzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbnNvbGUiLCJsb2ciLCJmb3JFYWNoIiwicmVzdWx0Il0sIm1hcHBpbmdzIjoiQUFFQSxTQUFTQSxVQUFVQyxFQUFPQyxFQUFNQyxHQUM5QkMsS0FBS0gsTUFBUUEsRUFDYkcsS0FBS0YsS0FBT0EsRUFDWkUsS0FBS0QsS0FBT0EsRUFpRGQsU0FBU0UsaUJBN0NUTCxVQUFVTSxVQUFVQyxjQUFnQixXQVFsQyxJQUFJQyxFQUdKLE9BQVFKLEtB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IjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEZ1bmNpb25lcyBjb25zdHJ1Y3RvcmFzICovXG5cbmZ1bmN0aW9uIEluc3VyYW5jZShicmFuZCwgeWVhciwgdHlwZSkge1xuICB0aGlzLmJyYW5kID0gYnJhbmQ7XG4gIHRoaXMueWVhciA9IHllYXI7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG59XG5cbi8qIFJlYWxpemFyIGNvdGl6YWNpb24gY29uIGxvcyBkYXRvcyAqL1xuSW5zdXJhbmNlLnByb3RvdHlwZS5jYWxjdWxhdGVDb3N0ID0gZnVuY3Rpb24gKCkge1xuICAvKlxuICAgKiBJbmNyZW1lbnRhciBlbCB2YWxvciBkZSBsYSBjb3RpemFjacOzbiBzZWfDum4gZWwgdGlwbyBkZSBzZWd1cm86XG4gICAqIFNpIGVzIGxhIG9wY2nDs24gMSAoQW1lcmljYW5vKSBpbmNyZW1lbnRhIGVsIHZhbG9yIDEuMTVcbiAgICogU2kgZXMgbGEgb3BjacOzbiAyIChBc2lhdGljbykgaW5jcmVtZW50YSBlbCB2YWxvciAxLjA1XG4gICAqIFNpIGVzIGxhIG9wY2nDs24gMyAoRXVyb3BlbykgaW5jcmVtZW50YSBlbCB2YWxvciAxLjM1XG4gICAqL1xuXG4gIGxldCBjb3VudDtcbiAgbGV0IGJhc2VDb3N0ID0gMjAwMDsgLy8gVmFsb3IgaW5pY2lhbCBkZSBsYSBjb3RpemFjacOzblxuXG4gIHN3aXRjaCAodGhpcy5icmFuZCkge1xuICAgIGNhc2UgYDFgOlxuICAgICAgY291bnQgPSBiYXNlQ29zdCAqIDEuMTU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgYDJgOlxuICAgICAgY291bnQgPSBiYXNlQ29zdCAqIDEuMDU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgYDNgOlxuICAgICAgY291bnQgPSBiYXNlQ29zdCAqIDEuMzU7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIC8vIExlZXIgZWwgYcOxb1xuICBjb25zdCB5ZWFyc0RpZmZlcmVuY2UgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgLSB0aGlzLnllYXI7XG5cbiAgLy8gQ2FkYSBhw7FvIHF1ZSBsYSBkaWZlcmVuY2lhIHNlYSBtYXlvciBhbCBhY3R1YWwsIGVsIGNvc3RvIHNlIHJlZHVjZSB1biAzJS5cbiAgY291bnQgLT0gKHllYXJzRGlmZmVyZW5jZSAqIDMgKiBjb3VudCkgLyAxMDA7XG5cbiAgLypcbiAgICogU2kgZWwgdGlwbyBzZWxlY2Npb25hZG8gZXMgYmFzaWNvLCBzZSBtdWx0aXBsaWNhIHVuIDMwJSBtw6FzXG4gICAqIFNpIGVsIHRpcG8gc2VsZWNjaW9uYWRvIGVzIGNvbXBsZXRvLCBzZSBtdWx0aXBsaWNhIHVuIDUwJSBtw6FzXG4gICAqL1xuXG4gIGlmICh0aGlzLnR5cGUgPT09IGBiYXNpY29gKSB7XG4gICAgY291bnQgKj0gMS4zO1xuICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gYGNvbXBsZXRvYCkge1xuICAgIGNvdW50ICo9IDEuNTtcbiAgfVxuXG4gIHJldHVybiBjb3VudDtcbn07XG5cbmZ1bmN0aW9uIFVzZXJJbnRlcmZhY2UoKSB7fVxuXG4vKiBMbGVuYXIgbG9zIGHDsW9zICovXG5Vc2VySW50ZXJmYWNlLnByb3RvdHlwZS5maWxsT3B0aW9ucyA9ICgpID0+IHtcbiAgY29uc3Qgc2VsZWN0WWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCN5ZWFyYCk7XG4gIGNvbnN0IG1heCA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxcbiAgICBtaW4gPSBtYXggLSAyMDtcblxuICBmb3IgKGxldCBpID0gbWF4OyBpID49IG1pbjsgaS0tKSB7XG4gICAgLy8gQ3JlYXIgdW4gbnVldm8gZWxlbWVudG8gPG9wdGlvbj4gcGFyYSBjYWRhIGHDsW9cbiAgICBjb25zdCBvcHRpb25ZZWFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgb3B0aW9uYCk7XG4gICAgb3B0aW9uWWVhci52YWx1ZSA9IGk7XG4gICAgb3B0aW9uWWVhci50ZXh0Q29udGVudCA9IGk7XG5cbiAgICAvLyBBw7FhZGlyIGxvcyBhw7FvcyBhbCBzZWxlY3QgZW4gZWwgSFRNTFxuICAgIHNlbGVjdFllYXIuYXBwZW5kQ2hpbGQob3B0aW9uWWVhcik7XG4gIH1cbn07XG5cbi8qIE1vc3RyYXIgYWxlcnRhcyAqL1xuVXNlckludGVyZmFjZS5wcm90b3R5cGUuc2hvd01lc3NhZ2VzID0gKG1lc3NhZ2UsIHR5cGUpID0+IHtcbiAgLy8gUXVpdGFyIGxvcyBhbnRlcmlvcmVzIHBhcmEgZXZpdGFyIGR1cGxpY2Fkb3NcbiAgY29uc3QgZXhpc3RpbmdNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmFsZXJ0LS0ke3R5cGV9YCk7XG5cbiAgLy8gU2kgeWEgZXhpc3RlIHVuIG1lbnNhamUgZGVsIG1pc21vIHRpcG8sIG5vIGFncmVnYXIgdW5vIG51ZXZvXG4gIGlmIChleGlzdGluZ01lc3NhZ2UpIHtcbiAgICBleGlzdGluZ01lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ3JlYXIgdW4gbnVldm8gZGl2IHBhcmEgZWwgbWVuc2FqZVxuICBjb25zdCBhbGVydE1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcblxuICBpZiAodHlwZSA9PT0gYGVycm9yYCkge1xuICAgIGFsZXJ0TWVzc2FnZS5jbGFzc0xpc3QuYWRkKGBhbGVydGAsIGBhbGVydC0tZXJyb3JgKTtcbiAgfSBlbHNlIHtcbiAgICBhbGVydE1lc3NhZ2UuY2xhc3NMaXN0LmFkZChgYWxlcnRgLCBgYWxlcnQtLXN1Y2Nlc3NgKTtcbiAgfVxuXG4gIGFsZXJ0TWVzc2FnZS5jbGFzc0xpc3QuYWRkKGBtZXNzYWdlYCk7XG4gIGFsZXJ0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG5cbiAgLy8gQcOxYWRpciBlbCBkaXYgYSBsYSBzZWNjacOzbiBkZSByZXN1bHRhZG9zXG4gIGNvbnN0IHJlc3VsdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcXVvdGF0aW9uLXJlc3VsdHNgKTtcbiAgcmVzdWx0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChhbGVydE1lc3NhZ2UpO1xuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGFsZXJ0TWVzc2FnZS5yZW1vdmUoKTtcbiAgfSwgMzAwMCk7XG59O1xuXG4vKiBNb3N0cmFyIGxvcyByZXN1bHRhZG9zICovXG5Vc2VySW50ZXJmYWNlLnByb3RvdHlwZS5zaG93UmVzdWx0cyA9IChpbnN1cmFuY2UsIHRvdGFsKSA9PiB7XG4gIGNvbnN0IHsgYnJhbmQsIHllYXIsIHR5cGUgfSA9IGluc3VyYW5jZTtcbiAgc3dpdGNoIChicmFuZCkge1xuICAgIGNhc2UgXCIxXCI6XG4gICAgICBicmFuZFRleHQgPSBcIkFtZXJpY2Fub1wiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIjJcIjpcbiAgICAgIGJyYW5kVGV4dCA9IFwiQXNpw6F0aWNvXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiM1wiOlxuICAgICAgYnJhbmRUZXh0ID0gXCJFdXJvcGVvXCI7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJiYXNpY1wiOlxuICAgICAgdHlwZVRleHQgPSBcIkLDoXNpY29cIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjb21wbGV0ZVwiOlxuICAgICAgdHlwZVRleHQgPSBcIkNvbXBsZXRvXCI7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIC8vIENyZWFyIGxvcyByZXN1bHRhZG9zXG4gIGNvbnN0IGRpdlJlc3VsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGRpdmApO1xuICBkaXZSZXN1bHQuY2xhc3NMaXN0LmFkZChgcmVzdWx0YCk7XG4gIGRpdlJlc3VsdC5pbm5lckhUTUwgPSBgXG4gICAgPGgzIGNsYXNzPVwicmVzdWx0X19oZWFkaW5nXCI+UmVzdWx0YWRvIGRlIHR1IGNvdGl6YWNpw7NuPC9oMz5cbiAgICA8dWwgY2xhc3M9XCJyZXN1bHRfX2xpc3RcIj5cbiAgICAgIDxsaSBjbGFzcz1cInJlc3VsdF9faXRlbVwiPjxzcGFuPlRpcG8gZGUgbWFyY2E6IDwvc3Bhbj4gJHticmFuZFRleHR9PC9saT5cbiAgICAgIDxsaSBjbGFzcz1cInJlc3VsdF9faXRlbVwiPjxzcGFuPkHDsW8gZGUgZmFicmljYWNpw7NuOiA8L3NwYW4+ICR7eWVhcn08L2xpPlxuICAgICAgPGxpIGNsYXNzPVwicmVzdWx0X19pdGVtXCI+PHNwYW4+VGlwbyBkZSBzZWd1cm86IDwvc3Bhbj4gJHt0eXBlVGV4dH08L2xpPlxuICAgICAgPGxpIGNsYXNzPVwicmVzdWx0X19pdGVtXCI+PHNwYW4+VG90YWw6IDwvc3Bhbj4gJHt0b3RhbH08L2xpPlxuICAgIDwvdWw+XG4gIGA7XG5cbiAgLy8gTW9zdHJhciBlbCBsb2FkZXJcbiAgY29uc3QgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2xvYWRlcmApO1xuICBsb2FkZXIuY2xhc3NMaXN0LmFkZChgbG9hZGVyLS1hY3RpdmVgKTtcblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyBFc3BlcmFyIDMgc2VndW5kb3MgcGFyYSBtb3N0cmFyIGVsIGxvYWRlciB5IGRlc3B1w6lzIHF1aXRhcmxvXG4gICAgbG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoYGxvYWRlci0tYWN0aXZlYCk7XG5cbiAgICAvLyBMaW1waWFyIHJlc3VsdGFkb3MgcHJldmlvcyBwYXJhIGV2aXRhciBkdXBsaWNhZG9zXG4gICAgY2xlYW5IdG1sKCk7XG5cbiAgICAvLyBBw7FhZGlyIGxvcyByZXN1bHRhZG9zIGFsIEhUTUxcbiAgICBjb25zdCByZXN1bHRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3F1b3RhdGlvbi1yZXN1bHRzYCk7XG4gICAgcmVzdWx0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZSZXN1bHQpO1xuICB9LCAzMDAwKTtcbn07XG5cbi8vIEluc3RhbmNpYXIgZWwgb2JqZXRvIFVJXG5jb25zdCB1c2VySW50ZXJmYWNlID0gbmV3IFVzZXJJbnRlcmZhY2UoKTtcblxuLyogQ2FyZ2FyIGVsIGRvY3VtZW50byBwYXJhIGluaWNpYXIgbGEgYXBwICovXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBET01Db250ZW50TG9hZGVkYCwgc3RhcnRBcHApO1xuXG4vKiBGdW5jaW9uZXMgKi9cblxuZnVuY3Rpb24gc3RhcnRBcHAoKSB7XG4gIC8vIExsZW5hciBsb3MgYcOxb3NcbiAgdXNlckludGVyZmFjZS5maWxsT3B0aW9ucygpO1xuXG4gIC8vIEFzaWduYXIgZXZlbnRvcyBhbCBmb3JtdWxhcmlvXG4gIGhhbmRsZUZvcm1FdmVudHMoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9ybUV2ZW50cygpIHtcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNxdW90ZS1mb3JtYCk7XG5cbiAgLy8gQWwgZW52aWFyIGVsIGZvcm11bGFyaW8gZGUgY290aXphY2nDs24gZGUgc2VndXJvIGRlIGF1dG86IGxsYW1hciBsYSBmdW5jacOzbiBxdW90ZUluc3VyYW5jZSgpXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihgc3VibWl0YCwgcXVvdGVJbnN1cmFuY2UpO1xufVxuXG5mdW5jdGlvbiBxdW90ZUluc3VyYW5jZShlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICAvLyBMaW1waWFyIHJlc3VsdGFkb3MgcHJldmlvcyBwYXJhIGV2aXRhciBkdXBsaWNhZG9zXG4gIGNsZWFuSHRtbCgpO1xuXG4gIC8vIE9idGVuZXIgbG9zIHZhbG9yZXMgc2VsZWNjaW9uYWRvcyBkZWwgZm9ybXVsYXJpbyAoTWFyY2EsIGHDsW8geSB0aXBvKVxuICBjb25zdCBzZWxlY3RlZEJyYW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2JyYW5kYCkudmFsdWU7XG4gIGNvbnN0IHNlbGVjdGVkWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCN5ZWFyYCkudmFsdWU7XG4gIGNvbnN0IHNlbGVjdGVkVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgYGlucHV0W25hbWU9XCJ0eXBlXCJdOmNoZWNrZWRgXG4gICkudmFsdWU7XG5cbiAgLy8gVmFsaWRhciBxdWUgdG9kb3MgbG9zIGNhbXBvcyBlc3TDqW4gc2VsZWNjaW9uYWRvc1xuICBjb25zdCB2b2lkVmFsdWUgPSBgYDtcbiAgaWYgKFxuICAgIHNlbGVjdGVkQnJhbmQgPT09IHZvaWRWYWx1ZSB8fFxuICAgIHNlbGVjdGVkWWVhciA9PT0gdm9pZFZhbHVlIHx8XG4gICAgc2VsZWN0ZWRUeXBlID09PSB2b2lkVmFsdWVcbiAgKSB7XG4gICAgLy8gTW9zdHJhciBtZW5zYWplIGRlIGVycm9yIGFsIG5vIHNlbGVjY2lvbmFyIGFsZ8O6biBjYW1wb1xuICAgIHVzZXJJbnRlcmZhY2Uuc2hvd01lc3NhZ2VzKGBQb3IgZmF2b3IsIGNvbXBsZXRlIHRvZG9zIGxvcyBjYW1wb3NgLCBgZXJyb3JgKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIE1vc3RyYXIgbWVuc2FqZSBkZSBjYXJnYW5kbyAobG9hZGVyKSBlIGluZGljYXIgcXVlIHNlIGVzdMOhIGNhbGN1bGFuZG8gbGEgY290aXphY2nDs25cbiAgdXNlckludGVyZmFjZS5zaG93TWVzc2FnZXMoYENhcmdhbmRvLi4uYCwgYHN1Y2Nlc3NgKTtcblxuICAvLyBJbnN0YW5jaWFyIGVsIHNlZ3VybyBkZWwgYXV0b1xuICBjb25zdCBjYXJJbnN1cmFuY2UgPSBuZXcgSW5zdXJhbmNlKHNlbGVjdGVkQnJhbmQsIHNlbGVjdGVkWWVhciwgc2VsZWN0ZWRUeXBlKTtcblxuICAvLyBMbGFtYXIgbGEgZnVuY2nDs24gcGFyYSBjYWxjdWxhciBlbCBjb3N0b1xuICBjb25zdCB0b3RhbCA9IGNhckluc3VyYW5jZS5jYWxjdWxhdGVDb3N0KCk7XG5cbiAgLy8gTW9zdHJhciBsb3MgcmVzdWx0YWRvc1xuICB1c2VySW50ZXJmYWNlLnNob3dSZXN1bHRzKGNhckluc3VyYW5jZSwgdG90YWwpO1xufVxuXG5mdW5jdGlvbiBjbGVhbkh0bWwoKSB7XG4gIC8vIExpbXBpYXIgbG9zIHJlc3VsdGFkb3MgcHJldmlvcyAoc2kgZXhpc3RlbilcbiAgY29uc3QgZXhpc3RpbmdSZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLnJlc3VsdGApO1xuICBjb25zb2xlLmxvZyhleGlzdGluZ1Jlc3VsdHMpO1xuXG4gIC8vIFF1aXRhciBjYWRhIHVubyBkZSBsb3MgcmVzdWx0YWRvcyBkZWwgSFRNTCBwYXJhIGV2aXRhciBkdXBsaWNhZG9zXG4gIGV4aXN0aW5nUmVzdWx0cy5mb3JFYWNoKChyZXN1bHQpID0+IHtcbiAgICByZXN1bHQucmVtb3ZlKCk7XG4gIH0pO1xufVxuIl19
