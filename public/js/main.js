function Insurance(e,t,s){this.brand=e,this.year=t,this.type=s}function UserInterface(){}Insurance.prototype.calculateCost=function(){let e;switch(this.brand){case"1":e=2300;break;case"2":e=2100;break;case"3":e=2700}return e-=3*((new Date).getFullYear()-this.year)*e/100,"basico"===this.type?e*=1.3:"completo"===this.type&&(e*=1.5),e},UserInterface.prototype.fillOptions=()=>{const e=document.querySelector("#year"),t=(new Date).getFullYear(),s=t-20;for(let a=t;a>=s;a--){const t=document.createElement("option");t.value=a,t.textContent=a,e.appendChild(t)}},UserInterface.prototype.showMessages=(e,t)=>{const s=document.querySelector(".alert--"+t);if(s)return void(s.textContent=e);const a=document.createElement("div");"error"===t?a.classList.add("alert","alert--error"):a.classList.add("alert","alert--success"),a.classList.add("message"),a.textContent=e;document.querySelector("#quotation-results").appendChild(a),setTimeout(()=>{a.remove()},3e3)},UserInterface.prototype.showResults=(e,t)=>{const{brand:s,year:a,type:n}=e;switch(s){case"1":brandText="Americana";break;case"2":brandText="Asiática";break;case"3":brandText="Europea"}switch(n){case"basic":typeText="Básico";break;case"complete":typeText="Completo"}const r=document.createElement("div");r.classList.add("result"),r.innerHTML=`\n    <h3 class="result__heading">Resultado de tu cotización</h3>\n    <ul class="result__list">\n      <li class="result__item"><span>Tipo de marca: </span> ${brandText}</li>\n      <li class="result__item"><span>Año de fabricación: </span> ${a}</li>\n      <li class="result__item"><span>Tipo de seguro: </span> ${typeText}</li>\n      <li class="result__item"><span>Total: </span> ${t}</li>\n    </ul>\n  `;const o=document.querySelector("#loader");o.classList.add("loader--active"),setTimeout(()=>{o.classList.remove("loader--active"),cleanHtml();document.querySelector("#quotation-results").appendChild(r)},3e3)};const userInterface=new UserInterface;function startApp(){userInterface.fillOptions(),handleFormEvents()}function handleFormEvents(){document.querySelector("#quote-form").addEventListener("submit",quoteInsurance)}function quoteInsurance(e){e.preventDefault(),cleanHtml();const t=document.querySelector("#brand").value,s=document.querySelector("#year").value,a=document.querySelector('input[name="type"]:checked').value;if(""===t||""===s||""===a)return void userInterface.showMessages("Por favor, complete todos los campos","error");userInterface.showMessages("Cargando...","success");const n=new Insurance(t,s,a),r=n.calculateCost();userInterface.showResults(n,r)}function cleanHtml(){document.querySelectorAll(".result").forEach(e=>{e.remove()})}document.addEventListener("DOMContentLoaded",startApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiSW5zdXJhbmNlIiwiYnJhbmQiLCJ5ZWFyIiwidHlwZSIsInRoaXMiLCJVc2VySW50ZXJmYWNlIiwicHJvdG90eXBlIiwiY2FsY3VsYXRlQ29zdCIsImNvdW50IiwiYmFzZUNvc3QiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJmaWxsT3B0aW9ucyIsInNlbGVjdFllYXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtYXgiLCJtaW4iLCJpIiwib3B0aW9uWWVhciIsImNyZWF0ZUVsZW1lbnQiLCJ2YWx1ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzaG93TWVzc2FnZXMiLCJtZXNzYWdlIiwiZXhpc3RpbmdNZXNzYWdlIiwiYWxlcnRNZXNzYWdlIiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsInNob3dSZXN1bHRzIiwiaW5zdXJhbmNlIiwidG90YWwiLCJicmFuZFRleHQiLCJ0eXBlVGV4dCIsImRpdlJlc3VsdCIsImlubmVySFRNTCIsImxvYWRlciIsImNsZWFuSHRtbCIsInVzZXJJbnRlcmZhY2UiLCJzdGFydEFwcCIsImhhbmRsZUZvcm1FdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwicXVvdGVJbnN1cmFuY2UiLCJlIiwicHJldmVudERlZmF1bHQiLCJzZWxlY3RlZEJyYW5kIiwic2VsZWN0ZWRZZWFyIiwic2VsZWN0ZWRUeXBlIiwiY2FySW5zdXJhbmNlIiwidG90YWxDb3N0IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJyZXN1bHQiXSwibWFwcGluZ3MiOiJBQUVBLFNBQVNBLFVBQVVDLEVBQU9DLEVBQU1DLEdBQzlCQyxLQUFLSCxNQUFRQSxFQUNiRyxLQUFLRixLQUFPQSxFQUNaRSxLQUFLRCxLQUFPQSxFQWlEZCxTQUFTRSxpQkE3Q1RMLFVBQVVNLFVBQVVDLGNBQWdCLFdBUWxDLElBQUlDLEVBR0osT0FBUUosS0FBS0gsT0FDWCxJQUFLLElBQ0hPLEVBQVFDLEtBQ1IsTUFFRixJQUFLLElBQ0hELEVBQVFDLEtBQ1IsTUFFRixJQUFLLElBQ0hELEVBQVFDLEtBcUJaLE9BYkFELEdBQTRCLElBSEosSUFBSUUsTUFBT0MsY0FBZ0JQLEtBQUtGLE1BR3hCTSxFQUFTLElBT3ZCLFdBQWRKLEtBQUtELEtBQ1BLLEdBQVMsSUFDYyxhQUFkSixLQUFLRCxPQUNkSyxHQUFTLEtBR0pBLEdBTVRILGNBQWNDLFVBQVVNLFlBQWMsS0FDcEMsTUFBTUMsRUFBYUMsU0FBU0MsY0FBYyxTQUNwQ0MsR0FBTSxJQUFJTixNQUFPQyxjQUNyQk0sRUFBTUQsRUFBTSxHQUVkLElBQUssSUFBSUUsRUFBSUYsRUFBS0UsR0FBS0QsRUFBS0MsSUFBSyxDQUUvQixNQUFNQyxFQUFhTCxTQUFTTSxjQUFjLFVBQzFDRCxFQUFXRSxNQUFRSCxFQUNuQkMsRUFBV0csWUFBY0osRUFHekJMLEVBQVdVLFlBQVlKLEtBSzNCZCxjQUFjQyxVQUFVa0IsYUFBZSxDQUFDQyxFQUFTdEIsS0FFL0MsTUFBTXVCLEVBQWtCWixTQUFTQyxjQUFjLFdBQVdaLEdBRzFELEdBQUl1QixFQUdGLFlBRkFBLEVBQWdCSixZQUFjRyxHQU1oQyxNQUFNRSxFQUFlYixTQUFTTSxjQUFjLE9BRS9CLFVBQVRqQixFQUNGd0IsRUFBYUMsVUFBVUMsSUFBSSxRQUFTLGdCQUVwQ0YsRUFBYUMsVUFBVUMsSUFBSSxRQUFTLGtCQUd0Q0YsRUFBYUMsVUFBVUMsSUFBSSxXQUMzQkYsRUFBYUwsWUFBY0csRUFHRlgsU0FBU0MsY0FBYyxzQkFDL0JRLFlBQVlJLEdBRTdCRyxXQUFXLEtBQ1RILEVBQWFJLFVBQ1osTUFJTDFCLGNBQWNDLFVBQVUwQixZQUFjLENBQUNDLEVBQVdDLEtBQ2hELE1BQU1qQyxNQUFFQSxFQUFLQyxLQUFFQSxFQUFJQyxLQUFFQSxHQUFTOEIsRUFDOUIsT0FBUWhDLEdBQ04sSUFBSyxJQUNIa0MsVUFBWSxZQUNaLE1BQ0YsSUFBSyxJQUNIQSxVQUFZLFdBQ1osTUFDRixJQUFLLElBQ0hBLFVBQVksVUFJaEIsT0FBUWhDLEdBQ04sSUFBSyxRQUNIaUMsU0FBVyxTQUNYLE1BQ0YsSUFBSyxXQUNIQSxTQUFXLFdBS2YsTUFBTUMsRUFBWXZCLFNBQVNNLGNBQWMsT0FDekNpQixFQUFVVCxVQUFVQyxJQUFJLFVBQ3hCUSxFQUFVQyxVQUFZLGlLQUdzQ0gsb0ZBQ0tqQyx3RUFDSmtDLHNFQUNURix3QkFLcEQsTUFBTUssRUFBU3pCLFNBQVNDLGNBQWMsV0FDdEN3QixFQUFPWCxVQUFVQyxJQUFJLGtCQUVyQkMsV0FBVyxLQUVUUyxFQUFPWCxVQUFVRyxPQUFPLGtCQUd4QlMsWUFHeUIxQixTQUFTQyxjQUFjLHNCQUMvQlEsWUFBWWMsSUFDNUIsTUFJTCxNQUFNSSxjQUFnQixJQUFJcEMsY0FPMUIsU0FBU3FDLFdBRVBELGNBQWM3QixjQUdkK0IsbUJBR0YsU0FBU0EsbUJBQ003QixTQUFTQyxjQUFjLGVBRy9CNkIsaUJBQWlCLFNBQVVDLGdCQUdsQyxTQUFTQSxlQUFlQyxHQUN0QkEsRUFBRUMsaUJBR0ZQLFlBR0EsTUFBTVEsRUFBZ0JsQyxTQUFTQyxjQUFjLFVBQVVNLE1BQ2pENEIsRUFBZW5DLFNBQVNDLGNBQWMsU0FBU00sTUFDL0M2QixFQUFlcEMsU0FBU0MsY0FDNUIsOEJBQ0FNLE1BSUYsR0FEa0IsS0FFaEIyQixHQUZnQixLQUdoQkMsR0FIZ0IsS0FJaEJDLEVBS0EsWUFGQVQsY0FBY2pCLGFBQWEsdUNBQXdDLFNBTXJFaUIsY0FBY2pCLGFBQWEsY0FBZSxXQUcxQyxNQUFNMkIsRUFBZSxJQUFJbkQsVUFBVWdELEVBQWVDLEVBQWNDLEdBRzFERSxFQUFZRCxFQUFhNUMsZ0JBRy9Ca0MsY0FBY1QsWUFBWW1CLEVBQWNDLEdBRzFDLFNBQVNaLFlBRWlCMUIsU0FBU3VDLGlCQUFpQixXQUVsQ0MsUUFBU0MsSUFDdkJBLEVBQU94QixXQS9EWGpCLFNBQVM4QixpQkFBaUIsbUJBQW9CRiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogRnVuY2lvbmVzIGNvbnN0cnVjdG9yYXMgKi9cblxuZnVuY3Rpb24gSW5zdXJhbmNlKGJyYW5kLCB5ZWFyLCB0eXBlKSB7XG4gIHRoaXMuYnJhbmQgPSBicmFuZDtcbiAgdGhpcy55ZWFyID0geWVhcjtcbiAgdGhpcy50eXBlID0gdHlwZTtcbn1cblxuLyogUmVhbGl6YXIgY290aXphY2lvbiBjb24gbG9zIGRhdG9zICovXG5JbnN1cmFuY2UucHJvdG90eXBlLmNhbGN1bGF0ZUNvc3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8qXG4gICAqIEluY3JlbWVudGFyIGVsIHZhbG9yIGRlIGxhIGNvdGl6YWNpw7NuIHNlZ8O6biBlbCB0aXBvIGRlIHNlZ3VybzpcbiAgICogU2kgZXMgbGEgb3BjacOzbiAxIChBbWVyaWNhbm8pIGluY3JlbWVudGEgZWwgdmFsb3IgMS4xNVxuICAgKiBTaSBlcyBsYSBvcGNpw7NuIDIgKEFzaWF0aWNvKSBpbmNyZW1lbnRhIGVsIHZhbG9yIDEuMDVcbiAgICogU2kgZXMgbGEgb3BjacOzbiAzIChFdXJvcGVvKSBpbmNyZW1lbnRhIGVsIHZhbG9yIDEuMzVcbiAgICovXG5cbiAgbGV0IGNvdW50O1xuICBsZXQgYmFzZUNvc3QgPSAyMDAwOyAvLyBWYWxvciBpbmljaWFsIGRlIGxhIGNvdGl6YWNpw7NuXG5cbiAgc3dpdGNoICh0aGlzLmJyYW5kKSB7XG4gICAgY2FzZSBgMWA6XG4gICAgICBjb3VudCA9IGJhc2VDb3N0ICogMS4xNTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBgMmA6XG4gICAgICBjb3VudCA9IGJhc2VDb3N0ICogMS4wNTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBgM2A6XG4gICAgICBjb3VudCA9IGJhc2VDb3N0ICogMS4zNTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgLy8gTGVlciBlbCBhw7FvXG4gIGNvbnN0IHllYXJzRGlmZmVyZW5jZSA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIHRoaXMueWVhcjtcblxuICAvLyBDYWRhIGHDsW8gcXVlIGxhIGRpZmVyZW5jaWEgc2VhIG1heW9yIGFsIGFjdHVhbCwgZWwgY29zdG8gc2UgcmVkdWNlIHVuIDMlLlxuICBjb3VudCAtPSAoeWVhcnNEaWZmZXJlbmNlICogMyAqIGNvdW50KSAvIDEwMDtcblxuICAvKlxuICAgKiBTaSBlbCB0aXBvIHNlbGVjY2lvbmFkbyBlcyBiYXNpY28sIHNlIG11bHRpcGxpY2EgdW4gMzAlIG3DoXNcbiAgICogU2kgZWwgdGlwbyBzZWxlY2Npb25hZG8gZXMgY29tcGxldG8sIHNlIG11bHRpcGxpY2EgdW4gNTAlIG3DoXNcbiAgICovXG5cbiAgaWYgKHRoaXMudHlwZSA9PT0gYGJhc2ljb2ApIHtcbiAgICBjb3VudCAqPSAxLjM7XG4gIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSBgY29tcGxldG9gKSB7XG4gICAgY291bnQgKj0gMS41O1xuICB9XG5cbiAgcmV0dXJuIGNvdW50O1xufTtcblxuZnVuY3Rpb24gVXNlckludGVyZmFjZSgpIHt9XG5cbi8qIExsZW5hciBsb3MgYcOxb3MgKi9cblVzZXJJbnRlcmZhY2UucHJvdG90eXBlLmZpbGxPcHRpb25zID0gKCkgPT4ge1xuICBjb25zdCBzZWxlY3RZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3llYXJgKTtcbiAgY29uc3QgbWF4ID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLFxuICAgIG1pbiA9IG1heCAtIDIwO1xuXG4gIGZvciAobGV0IGkgPSBtYXg7IGkgPj0gbWluOyBpLS0pIHtcbiAgICAvLyBDcmVhciB1biBudWV2byBlbGVtZW50byA8b3B0aW9uPiBwYXJhIGNhZGEgYcOxb1xuICAgIGNvbnN0IG9wdGlvblllYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBvcHRpb25gKTtcbiAgICBvcHRpb25ZZWFyLnZhbHVlID0gaTtcbiAgICBvcHRpb25ZZWFyLnRleHRDb250ZW50ID0gaTtcblxuICAgIC8vIEHDsWFkaXIgbG9zIGHDsW9zIGFsIHNlbGVjdCBlbiBlbCBIVE1MXG4gICAgc2VsZWN0WWVhci5hcHBlbmRDaGlsZChvcHRpb25ZZWFyKTtcbiAgfVxufTtcblxuLyogTW9zdHJhciBhbGVydGFzICovXG5Vc2VySW50ZXJmYWNlLnByb3RvdHlwZS5zaG93TWVzc2FnZXMgPSAobWVzc2FnZSwgdHlwZSkgPT4ge1xuICAvLyBRdWl0YXIgbG9zIGFudGVyaW9yZXMgcGFyYSBldml0YXIgZHVwbGljYWRvc1xuICBjb25zdCBleGlzdGluZ01lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYWxlcnQtLSR7dHlwZX1gKTtcblxuICAvLyBTaSB5YSBleGlzdGUgdW4gbWVuc2FqZSBkZWwgbWlzbW8gdGlwbywgbm8gYWdyZWdhciB1bm8gbnVldm9cbiAgaWYgKGV4aXN0aW5nTWVzc2FnZSkge1xuICAgIGV4aXN0aW5nTWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBDcmVhciB1biBudWV2byBkaXYgcGFyYSBlbCBtZW5zYWplXG4gIGNvbnN0IGFsZXJ0TWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGRpdmApO1xuXG4gIGlmICh0eXBlID09PSBgZXJyb3JgKSB7XG4gICAgYWxlcnRNZXNzYWdlLmNsYXNzTGlzdC5hZGQoYGFsZXJ0YCwgYGFsZXJ0LS1lcnJvcmApO1xuICB9IGVsc2Uge1xuICAgIGFsZXJ0TWVzc2FnZS5jbGFzc0xpc3QuYWRkKGBhbGVydGAsIGBhbGVydC0tc3VjY2Vzc2ApO1xuICB9XG5cbiAgYWxlcnRNZXNzYWdlLmNsYXNzTGlzdC5hZGQoYG1lc3NhZ2VgKTtcbiAgYWxlcnRNZXNzYWdlLnRleHRDb250ZW50ID0gbWVzc2FnZTtcblxuICAvLyBBw7FhZGlyIGVsIGRpdiBhIGxhIHNlY2Npw7NuIGRlIHJlc3VsdGFkb3NcbiAgY29uc3QgcmVzdWx0c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNxdW90YXRpb24tcmVzdWx0c2ApO1xuICByZXN1bHRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGFsZXJ0TWVzc2FnZSk7XG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgYWxlcnRNZXNzYWdlLnJlbW92ZSgpO1xuICB9LCAzMDAwKTtcbn07XG5cbi8qIE1vc3RyYXIgbG9zIHJlc3VsdGFkb3MgKi9cblVzZXJJbnRlcmZhY2UucHJvdG90eXBlLnNob3dSZXN1bHRzID0gKGluc3VyYW5jZSwgdG90YWwpID0+IHtcbiAgY29uc3QgeyBicmFuZCwgeWVhciwgdHlwZSB9ID0gaW5zdXJhbmNlO1xuICBzd2l0Y2ggKGJyYW5kKSB7XG4gICAgY2FzZSBcIjFcIjpcbiAgICAgIGJyYW5kVGV4dCA9IFwiQW1lcmljYW5hXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiMlwiOlxuICAgICAgYnJhbmRUZXh0ID0gXCJBc2nDoXRpY2FcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCIzXCI6XG4gICAgICBicmFuZFRleHQgPSBcIkV1cm9wZWFcIjtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImJhc2ljXCI6XG4gICAgICB0eXBlVGV4dCA9IFwiQsOhc2ljb1wiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNvbXBsZXRlXCI6XG4gICAgICB0eXBlVGV4dCA9IFwiQ29tcGxldG9cIjtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgLy8gQ3JlYXIgbG9zIHJlc3VsdGFkb3NcbiAgY29uc3QgZGl2UmVzdWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XG4gIGRpdlJlc3VsdC5jbGFzc0xpc3QuYWRkKGByZXN1bHRgKTtcbiAgZGl2UmVzdWx0LmlubmVySFRNTCA9IGBcbiAgICA8aDMgY2xhc3M9XCJyZXN1bHRfX2hlYWRpbmdcIj5SZXN1bHRhZG8gZGUgdHUgY290aXphY2nDs248L2gzPlxuICAgIDx1bCBjbGFzcz1cInJlc3VsdF9fbGlzdFwiPlxuICAgICAgPGxpIGNsYXNzPVwicmVzdWx0X19pdGVtXCI+PHNwYW4+VGlwbyBkZSBtYXJjYTogPC9zcGFuPiAke2JyYW5kVGV4dH08L2xpPlxuICAgICAgPGxpIGNsYXNzPVwicmVzdWx0X19pdGVtXCI+PHNwYW4+QcOxbyBkZSBmYWJyaWNhY2nDs246IDwvc3Bhbj4gJHt5ZWFyfTwvbGk+XG4gICAgICA8bGkgY2xhc3M9XCJyZXN1bHRfX2l0ZW1cIj48c3Bhbj5UaXBvIGRlIHNlZ3VybzogPC9zcGFuPiAke3R5cGVUZXh0fTwvbGk+XG4gICAgICA8bGkgY2xhc3M9XCJyZXN1bHRfX2l0ZW1cIj48c3Bhbj5Ub3RhbDogPC9zcGFuPiAke3RvdGFsfTwvbGk+XG4gICAgPC91bD5cbiAgYDtcblxuICAvLyBNb3N0cmFyIGVsIGxvYWRlclxuICBjb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjbG9hZGVyYCk7XG4gIGxvYWRlci5jbGFzc0xpc3QuYWRkKGBsb2FkZXItLWFjdGl2ZWApO1xuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIC8vIEVzcGVyYXIgMyBzZWd1bmRvcyBwYXJhIG1vc3RyYXIgZWwgbG9hZGVyIHkgZGVzcHXDqXMgcXVpdGFybG9cbiAgICBsb2FkZXIuY2xhc3NMaXN0LnJlbW92ZShgbG9hZGVyLS1hY3RpdmVgKTtcblxuICAgIC8vIExpbXBpYXIgcmVzdWx0YWRvcyBwcmV2aW9zIHBhcmEgZXZpdGFyIGR1cGxpY2Fkb3NcbiAgICBjbGVhbkh0bWwoKTtcblxuICAgIC8vIEHDsWFkaXIgbG9zIHJlc3VsdGFkb3MgYWwgSFRNTFxuICAgIGNvbnN0IHJlc3VsdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcXVvdGF0aW9uLXJlc3VsdHNgKTtcbiAgICByZXN1bHRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlJlc3VsdCk7XG4gIH0sIDMwMDApO1xufTtcblxuLy8gSW5zdGFuY2lhciBlbCBvYmpldG8gVUlcbmNvbnN0IHVzZXJJbnRlcmZhY2UgPSBuZXcgVXNlckludGVyZmFjZSgpO1xuXG4vKiBDYXJnYXIgZWwgZG9jdW1lbnRvIHBhcmEgaW5pY2lhciBsYSBhcHAgKi9cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYERPTUNvbnRlbnRMb2FkZWRgLCBzdGFydEFwcCk7XG5cbi8qIEZ1bmNpb25lcyAqL1xuXG5mdW5jdGlvbiBzdGFydEFwcCgpIHtcbiAgLy8gTGxlbmFyIGxvcyBhw7Fvc1xuICB1c2VySW50ZXJmYWNlLmZpbGxPcHRpb25zKCk7XG5cbiAgLy8gQXNpZ25hciBldmVudG9zIGFsIGZvcm11bGFyaW9cbiAgaGFuZGxlRm9ybUV2ZW50cygpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVGb3JtRXZlbnRzKCkge1xuICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3F1b3RlLWZvcm1gKTtcblxuICAvLyBBbCBlbnZpYXIgZWwgZm9ybXVsYXJpbyBkZSBjb3RpemFjacOzbiBkZSBzZWd1cm8gZGUgYXV0bzogbGxhbWFyIGxhIGZ1bmNpw7NuIHF1b3RlSW5zdXJhbmNlKClcbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKGBzdWJtaXRgLCBxdW90ZUluc3VyYW5jZSk7XG59XG5cbmZ1bmN0aW9uIHF1b3RlSW5zdXJhbmNlKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIC8vIExpbXBpYXIgcmVzdWx0YWRvcyBwcmV2aW9zIHBhcmEgZXZpdGFyIGR1cGxpY2Fkb3NcbiAgY2xlYW5IdG1sKCk7XG5cbiAgLy8gT2J0ZW5lciBsb3MgdmFsb3JlcyBzZWxlY2Npb25hZG9zIGRlbCBmb3JtdWxhcmlvIChNYXJjYSwgYcOxbyB5IHRpcG8pXG4gIGNvbnN0IHNlbGVjdGVkQnJhbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjYnJhbmRgKS52YWx1ZTtcbiAgY29uc3Qgc2VsZWN0ZWRZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3llYXJgKS52YWx1ZTtcbiAgY29uc3Qgc2VsZWN0ZWRUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICBgaW5wdXRbbmFtZT1cInR5cGVcIl06Y2hlY2tlZGBcbiAgKS52YWx1ZTtcblxuICAvLyBWYWxpZGFyIHF1ZSB0b2RvcyBsb3MgY2FtcG9zIGVzdMOpbiBzZWxlY2Npb25hZG9zXG4gIGNvbnN0IHZvaWRWYWx1ZSA9IGBgO1xuICBpZiAoXG4gICAgc2VsZWN0ZWRCcmFuZCA9PT0gdm9pZFZhbHVlIHx8XG4gICAgc2VsZWN0ZWRZZWFyID09PSB2b2lkVmFsdWUgfHxcbiAgICBzZWxlY3RlZFR5cGUgPT09IHZvaWRWYWx1ZVxuICApIHtcbiAgICAvLyBNb3N0cmFyIG1lbnNhamUgZGUgZXJyb3IgYWwgbm8gc2VsZWNjaW9uYXIgYWxnw7puIGNhbXBvXG4gICAgdXNlckludGVyZmFjZS5zaG93TWVzc2FnZXMoYFBvciBmYXZvciwgY29tcGxldGUgdG9kb3MgbG9zIGNhbXBvc2AsIGBlcnJvcmApO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gTW9zdHJhciBtZW5zYWplIGRlIGNhcmdhbmRvIChsb2FkZXIpIGUgaW5kaWNhciBxdWUgc2UgZXN0w6EgY2FsY3VsYW5kbyBsYSBjb3RpemFjacOzblxuICB1c2VySW50ZXJmYWNlLnNob3dNZXNzYWdlcyhgQ2FyZ2FuZG8uLi5gLCBgc3VjY2Vzc2ApO1xuXG4gIC8vIEluc3RhbmNpYXIgZWwgc2VndXJvIGRlbCBhdXRvXG4gIGNvbnN0IGNhckluc3VyYW5jZSA9IG5ldyBJbnN1cmFuY2Uoc2VsZWN0ZWRCcmFuZCwgc2VsZWN0ZWRZZWFyLCBzZWxlY3RlZFR5cGUpO1xuXG4gIC8vIExsYW1hciBsYSBmdW5jacOzbiBwYXJhIGNhbGN1bGFyIGVsIGNvc3RvIHRvdGFsXG4gIGNvbnN0IHRvdGFsQ29zdCA9IGNhckluc3VyYW5jZS5jYWxjdWxhdGVDb3N0KCk7XG5cbiAgLy8gTW9zdHJhciBsb3MgcmVzdWx0YWRvc1xuICB1c2VySW50ZXJmYWNlLnNob3dSZXN1bHRzKGNhckluc3VyYW5jZSwgdG90YWxDb3N0KTtcbn1cblxuZnVuY3Rpb24gY2xlYW5IdG1sKCkge1xuICAvLyBMaW1waWFyIGxvcyByZXN1bHRhZG9zIHByZXZpb3MgKHNpIGV4aXN0ZW4pXG4gIGNvbnN0IGV4aXN0aW5nUmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5yZXN1bHRgKTtcblxuICBleGlzdGluZ1Jlc3VsdHMuZm9yRWFjaCgocmVzdWx0KSA9PiB7XG4gICAgcmVzdWx0LnJlbW92ZSgpO1xuICB9KTtcbn1cbiJdfQ==
