function Insurance(e,t,s){this.brand=e,this.year=t,this.type=s}function UserInterface(){}Insurance.prototype.calculateCost=function(){let e;switch(this.brand){case"1":e=2300;break;case"2":e=2100;break;case"3":e=2700}return e-=3*((new Date).getFullYear()-this.year)*e/100,"basico"===this.type?e*=1.3:"completo"===this.type&&(e*=1.5),e},UserInterface.prototype.fillOptions=()=>{const e=document.querySelector("#year"),t=(new Date).getFullYear(),s=t-20;for(let r=t;r>=s;r--){const t=document.createElement("option");t.value=r,t.textContent=r,e.appendChild(t)}},UserInterface.prototype.showMessages=(e,t)=>{const s=document.querySelector(".alert--"+t);if(s)return void(s.textContent=e);const r=document.createElement("div");"error"===t?r.classList.add("alert","alert--error"):r.classList.add("alert","alert--success"),r.classList.add("message"),r.textContent=e;document.querySelector("#quotation-results").appendChild(r),setTimeout(()=>{r.remove()},3e3)},UserInterface.prototype.showResults=(e,t)=>{const{brand:s,year:r,type:n}=e;switch(s){case"1":brandText="Americano";break;case"2":brandText="Asiático";break;case"3":brandText="Europeo"}switch(n){case"basic":typeText="Básico";break;case"complete":typeText="Completo"}const a=document.createElement("div");a.classList.add("result"),a.innerHTML=`\n    <h3 class="result__heading">Resultado de tu cotización</h3>\n    <ul class="result__list">\n      <li class="result__item"><span>Tipo de marca: </span> ${brandText}</li>\n      <li class="result__item"><span>Año de fabricación: </span> ${r}</li>\n      <li class="result__item"><span>Tipo de seguro: </span> ${typeText}</li>\n      <li class="result__item"><span>Total: </span> ${t}</li>\n    </ul>\n  `;const o=document.querySelector("#quotation-results"),c=document.querySelector("#loader");c.classList.add("loader--active"),setTimeout(()=>{for(c.classList.remove("loader--active");o.firstChild;)o.removeChild(o.firstChild);o.appendChild(a)},3e3)};const userInterface=new UserInterface;function startApp(){userInterface.fillOptions(),handleFormEvents()}function handleFormEvents(){document.querySelector("#quote-form").addEventListener("submit",quoteInsurance)}function quoteInsurance(e){e.preventDefault();const t=document.querySelector("#brand").value,s=document.querySelector("#year").value,r=document.querySelector('input[name="type"]:checked').value;if(""===t||""===s||""===r)return void userInterface.showMessages("Por favor, complete todos los campos","error");userInterface.showMessages("Cargando...","success");const n=document.querySelector("#quotation-results .result");null!=n&&n.remove();const a=new Insurance(t,s,r),o=a.calculateCost();userInterface.showResults(a,o)}document.addEventListener("DOMContentLoaded",startApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiSW5zdXJhbmNlIiwiYnJhbmQiLCJ5ZWFyIiwidHlwZSIsInRoaXMiLCJVc2VySW50ZXJmYWNlIiwicHJvdG90eXBlIiwiY2FsY3VsYXRlQ29zdCIsImNvdW50IiwiYmFzZUNvc3QiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJmaWxsT3B0aW9ucyIsInNlbGVjdFllYXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtYXgiLCJtaW4iLCJpIiwib3B0aW9uWWVhciIsImNyZWF0ZUVsZW1lbnQiLCJ2YWx1ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzaG93TWVzc2FnZXMiLCJtZXNzYWdlIiwiZXhpc3RpbmdNZXNzYWdlIiwiYWxlcnRNZXNzYWdlIiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsInNob3dSZXN1bHRzIiwiaW5zdXJhbmNlIiwidG90YWwiLCJicmFuZFRleHQiLCJ0eXBlVGV4dCIsImRpdlJlc3VsdCIsImlubmVySFRNTCIsInJlc3VsdHMiLCJsb2FkZXIiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJ1c2VySW50ZXJmYWNlIiwic3RhcnRBcHAiLCJoYW5kbGVGb3JtRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInF1b3RlSW5zdXJhbmNlIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2VsZWN0ZWRCcmFuZCIsInNlbGVjdGVkWWVhciIsInNlbGVjdGVkVHlwZSIsImNhckluc3VyYW5jZSJdLCJtYXBwaW5ncyI6IkFBRUEsU0FBU0EsVUFBVUMsRUFBT0MsRUFBTUMsR0FDOUJDLEtBQUtILE1BQVFBLEVBQ2JHLEtBQUtGLEtBQU9BLEVBQ1pFLEtBQUtELEtBQU9BLEVBaURkLFNBQVNFLGlCQTdDVEwsVUFBVU0sVUFBVUMsY0FBZ0IsV0FRbEMsSUFBSUMsRUFHSixPQUFRSixLQUFLSCxPQUNYLElBQUssSUFDSE8sRUFBUUMsS0FDUixNQUVGLElBQUssSUFDSEQs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Y29uc3RydWN0b3JhcyAqL1xuXG5mdW5jdGlvbiBJbnN1cmFuY2UoYnJhbmQsIHllYXIsIHR5cGUpIHtcbiAgdGhpcy5icmFuZCA9IGJyYW5kO1xuICB0aGlzLnllYXIgPSB5ZWFyO1xuICB0aGlzLnR5cGUgPSB0eXBlO1xufVxuXG4vKiBSZWFsaXphciBjb3RpemFjaW9uIGNvbiBsb3MgZGF0b3MgKi9cbkluc3VyYW5jZS5wcm90b3R5cGUuY2FsY3VsYXRlQ29zdCA9IGZ1bmN0aW9uICgpIHtcbiAgLypcbiAgICogSW5jcmVtZW50YXIgZWwgdmFsb3IgZGUgbGEgY290aXphY2nDs24gc2Vnw7puIGVsIHRpcG8gZGUgc2VndXJvOlxuICAgKiBTaSBlcyBsYSBvcGNpw7NuIDEgKEFtZXJpY2FubykgaW5jcmVtZW50YSBlbCB2YWxvciAxLjE1XG4gICAqIFNpIGVzIGxhIG9wY2nDs24gMiAoQXNpYXRpY28pIGluY3JlbWVudGEgZWwgdmFsb3IgMS4wNVxuICAgKiBTaSBlcyBsYSBvcGNpw7NuIDMgKEV1cm9wZW8pIGluY3JlbWVudGEgZWwgdmFsb3IgMS4zNVxuICAgKi9cblxuICBsZXQgY291bnQ7XG4gIGxldCBiYXNlQ29zdCA9IDIwMDA7IC8vIFZhbG9yIGluaWNpYWwgZGUgbGEgY290aXphY2nDs25cblxuICBzd2l0Y2ggKHRoaXMuYnJhbmQpIHtcbiAgICBjYXNlIGAxYDpcbiAgICAgIGNvdW50ID0gYmFzZUNvc3QgKiAxLjE1O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIGAyYDpcbiAgICAgIGNvdW50ID0gYmFzZUNvc3QgKiAxLjA1O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIGAzYDpcbiAgICAgIGNvdW50ID0gYmFzZUNvc3QgKiAxLjM1O1xuICAgICAgYnJlYWs7XG4gIH1cblxuICAvLyBMZWVyIGVsIGHDsW9cbiAgY29uc3QgeWVhcnNEaWZmZXJlbmNlID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gdGhpcy55ZWFyO1xuXG4gIC8vIENhZGEgYcOxbyBxdWUgbGEgZGlmZXJlbmNpYSBzZWEgbWF5b3IgYWwgYWN0dWFsLCBlbCBjb3N0byBzZSByZWR1Y2UgdW4gMyUuXG4gIGNvdW50IC09ICh5ZWFyc0RpZmZlcmVuY2UgKiAzICogY291bnQpIC8gMTAwO1xuXG4gIC8qXG4gICAqIFNpIGVsIHRpcG8gc2VsZWNjaW9uYWRvIGVzIGJhc2ljbywgc2UgbXVsdGlwbGljYSB1biAzMCUgbcOhc1xuICAgKiBTaSBlbCB0aXBvIHNlbGVjY2lvbmFkbyBlcyBjb21wbGV0bywgc2UgbXVsdGlwbGljYSB1biA1MCUgbcOhc1xuICAgKi9cblxuICBpZiAodGhpcy50eXBlID09PSBgYmFzaWNvYCkge1xuICAgIGNvdW50ICo9IDEuMztcbiAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09IGBjb21wbGV0b2ApIHtcbiAgICBjb3VudCAqPSAxLjU7XG4gIH1cblxuICByZXR1cm4gY291bnQ7XG59O1xuXG5mdW5jdGlvbiBVc2VySW50ZXJmYWNlKCkge31cblxuLyogTGxlbmFyIGxvcyBhw7FvcyAqL1xuVXNlckludGVyZmFjZS5wcm90b3R5cGUuZmlsbE9wdGlvbnMgPSAoKSA9PiB7XG4gIGNvbnN0IHNlbGVjdFllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjeWVhcmApO1xuICBjb25zdCBtYXggPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksXG4gICAgbWluID0gbWF4IC0gMjA7XG5cbiAgZm9yIChsZXQgaSA9IG1heDsgaSA+PSBtaW47IGktLSkge1xuICAgIC8vIENyZWFyIHVuIG51ZXZvIGVsZW1lbnRvIDxvcHRpb24+IHBhcmEgY2FkYSBhw7FvXG4gICAgY29uc3Qgb3B0aW9uWWVhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYG9wdGlvbmApO1xuICAgIG9wdGlvblllYXIudmFsdWUgPSBpO1xuICAgIG9wdGlvblllYXIudGV4dENvbnRlbnQgPSBpO1xuXG4gICAgLy8gQcOxYWRpciBsb3MgYcOxb3MgYWwgc2VsZWN0IGVuIGVsIEhUTUxcbiAgICBzZWxlY3RZZWFyLmFwcGVuZENoaWxkKG9wdGlvblllYXIpO1xuICB9XG59O1xuXG4vKiBNb3N0cmFyIGFsZXJ0YXMgKi9cblVzZXJJbnRlcmZhY2UucHJvdG90eXBlLnNob3dNZXNzYWdlcyA9IChtZXNzYWdlLCB0eXBlKSA9PiB7XG4gIC8vIFF1aXRhciBsb3MgYW50ZXJpb3JlcyBwYXJhIGV2aXRhciBkdXBsaWNhZG9zXG4gIGNvbnN0IGV4aXN0aW5nTWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5hbGVydC0tJHt0eXBlfWApO1xuXG4gIC8vIFNpIHlhIGV4aXN0ZSB1biBtZW5zYWplIGRlbCBtaXNtbyB0aXBvLCBubyBhZ3JlZ2FyIHVubyBudWV2b1xuICBpZiAoZXhpc3RpbmdNZXNzYWdlKSB7XG4gICAgZXhpc3RpbmdNZXNzYWdlLnRleHRDb250ZW50ID0gbWVzc2FnZTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENyZWFyIHVuIG51ZXZvIGRpdiBwYXJhIGVsIG1lbnNhamVcbiAgY29uc3QgYWxlcnRNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XG5cbiAgaWYgKHR5cGUgPT09IGBlcnJvcmApIHtcbiAgICBhbGVydE1lc3NhZ2UuY2xhc3NMaXN0LmFkZChgYWxlcnRgLCBgYWxlcnQtLWVycm9yYCk7XG4gIH0gZWxzZSB7XG4gICAgYWxlcnRNZXNzYWdlLmNsYXNzTGlzdC5hZGQoYGFsZXJ0YCwgYGFsZXJ0LS1zdWNjZXNzYCk7XG4gIH1cblxuICBhbGVydE1lc3NhZ2UuY2xhc3NMaXN0LmFkZChgbWVzc2FnZWApO1xuICBhbGVydE1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuXG4gIC8vIEHDsWFkaXIgZWwgZGl2IGEgbGEgc2VjY2nDs24gZGUgcmVzdWx0YWRvc1xuICBjb25zdCByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3F1b3RhdGlvbi1yZXN1bHRzYCk7XG4gIHJlc3VsdHMuYXBwZW5kQ2hpbGQoYWxlcnRNZXNzYWdlKTtcblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBhbGVydE1lc3NhZ2UucmVtb3ZlKCk7XG4gIH0sIDMwMDApO1xufTtcblxuLyogTW9zdHJhciBsb3MgcmVzdWx0YWRvcyAqL1xuVXNlckludGVyZmFjZS5wcm90b3R5cGUuc2hvd1Jlc3VsdHMgPSAoaW5zdXJhbmNlLCB0b3RhbCkgPT4ge1xuICBjb25zdCB7IGJyYW5kLCB5ZWFyLCB0eXBlIH0gPSBpbnN1cmFuY2U7XG4gIHN3aXRjaCAoYnJhbmQpIHtcbiAgICBjYXNlIFwiMVwiOlxuICAgICAgYnJhbmRUZXh0ID0gXCJBbWVyaWNhbm9cIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCIyXCI6XG4gICAgICBicmFuZFRleHQgPSBcIkFzacOhdGljb1wiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIjNcIjpcbiAgICAgIGJyYW5kVGV4dCA9IFwiRXVyb3Blb1wiO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwiYmFzaWNcIjpcbiAgICAgIHR5cGVUZXh0ID0gXCJCw6FzaWNvXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgIHR5cGVUZXh0ID0gXCJDb21wbGV0b1wiO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICAvLyBDcmVhciBsb3MgcmVzdWx0YWRvc1xuICBjb25zdCBkaXZSZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcbiAgZGl2UmVzdWx0LmNsYXNzTGlzdC5hZGQoYHJlc3VsdGApO1xuICBkaXZSZXN1bHQuaW5uZXJIVE1MID0gYFxuICAgIDxoMyBjbGFzcz1cInJlc3VsdF9faGVhZGluZ1wiPlJlc3VsdGFkbyBkZSB0dSBjb3RpemFjacOzbjwvaDM+XG4gICAgPHVsIGNsYXNzPVwicmVzdWx0X19saXN0XCI+XG4gICAgICA8bGkgY2xhc3M9XCJyZXN1bHRfX2l0ZW1cIj48c3Bhbj5UaXBvIGRlIG1hcmNhOiA8L3NwYW4+ICR7YnJhbmRUZXh0fTwvbGk+XG4gICAgICA8bGkgY2xhc3M9XCJyZXN1bHRfX2l0ZW1cIj48c3Bhbj5Bw7FvIGRlIGZhYnJpY2FjacOzbjogPC9zcGFuPiAke3llYXJ9PC9saT5cbiAgICAgIDxsaSBjbGFzcz1cInJlc3VsdF9faXRlbVwiPjxzcGFuPlRpcG8gZGUgc2VndXJvOiA8L3NwYW4+ICR7dHlwZVRleHR9PC9saT5cbiAgICAgIDxsaSBjbGFzcz1cInJlc3VsdF9faXRlbVwiPjxzcGFuPlRvdGFsOiA8L3NwYW4+ICR7dG90YWx9PC9saT5cbiAgICA8L3VsPlxuICBgO1xuXG4gIC8vIEHDsWFkaXIgZWwgZGl2IGEgbGEgc2VjY2nDs24gZGUgcmVzdWx0YWRvc1xuICBjb25zdCByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3F1b3RhdGlvbi1yZXN1bHRzYCk7XG5cbiAgLy8gTW9zdHJhciBlbCBsb2FkZXJcbiAgY29uc3QgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2xvYWRlcmApO1xuICBsb2FkZXIuY2xhc3NMaXN0LmFkZChgbG9hZGVyLS1hY3RpdmVgKTtcblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyBFc3BlcmFyIDMgc2VndW5kb3MgcGFyYSBtb3N0cmFyIGVsIGxvYWRlciB5IGRlc3B1w6lzIHF1aXRhcmxvXG4gICAgbG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoYGxvYWRlci0tYWN0aXZlYCk7XG5cbiAgICAvLyBFbGltaW5hciB0b2RvcyBsb3MgcmVzdWx0YWRvcyBwcmV2aW9zXG4gICAgd2hpbGUgKHJlc3VsdHMuZmlyc3RDaGlsZCkge1xuICAgICAgcmVzdWx0cy5yZW1vdmVDaGlsZChyZXN1bHRzLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIC8vIE1vc3RyYXIgbG9zIHJlc3VsdGFkb3MgZGVzcMO6ZXMgZGVsIGxvYWRlclxuICAgIHJlc3VsdHMuYXBwZW5kQ2hpbGQoZGl2UmVzdWx0KTtcbiAgfSwgMzAwMCk7XG59O1xuXG4vLyBJbnN0YW5jaWFyIGVsIG9iamV0byBVSVxuY29uc3QgdXNlckludGVyZmFjZSA9IG5ldyBVc2VySW50ZXJmYWNlKCk7XG5cbi8qIENhcmdhciBlbCBkb2N1bWVudG8gcGFyYSBpbmljaWFyIGxhIGFwcCAqL1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgRE9NQ29udGVudExvYWRlZGAsIHN0YXJ0QXBwKTtcblxuLyogRnVuY2lvbmVzICovXG5cbmZ1bmN0aW9uIHN0YXJ0QXBwKCkge1xuICAvLyBMbGVuYXIgbG9zIGHDsW9zXG4gIHVzZXJJbnRlcmZhY2UuZmlsbE9wdGlvbnMoKTtcblxuICAvLyBBc2lnbmFyIGV2ZW50b3MgYWwgZm9ybXVsYXJpb1xuICBoYW5kbGVGb3JtRXZlbnRzKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcm1FdmVudHMoKSB7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcXVvdGUtZm9ybWApO1xuXG4gIC8vIEFsIGVudmlhciBlbCBmb3JtdWxhcmlvIGRlIGNvdGl6YWNpw7NuIGRlIHNlZ3VybyBkZSBhdXRvOiBsbGFtYXIgbGEgZnVuY2nDs24gcXVvdGVJbnN1cmFuY2UoKVxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoYHN1Ym1pdGAsIHF1b3RlSW5zdXJhbmNlKTtcbn1cblxuZnVuY3Rpb24gcXVvdGVJbnN1cmFuY2UoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgLy8gT2J0ZW5lciBsb3MgdmFsb3JlcyBzZWxlY2Npb25hZG9zIGRlbCBmb3JtdWxhcmlvIChNYXJjYSwgYcOxbyB5IHRpcG8pXG4gIGNvbnN0IHNlbGVjdGVkQnJhbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjYnJhbmRgKS52YWx1ZTtcbiAgY29uc3Qgc2VsZWN0ZWRZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3llYXJgKS52YWx1ZTtcbiAgY29uc3Qgc2VsZWN0ZWRUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICBgaW5wdXRbbmFtZT1cInR5cGVcIl06Y2hlY2tlZGBcbiAgKS52YWx1ZTtcblxuICBpZiAoc2VsZWN0ZWRCcmFuZCA9PT0gYGAgfHwgc2VsZWN0ZWRZZWFyID09PSBgYCB8fCBzZWxlY3RlZFR5cGUgPT09IGBgKSB7XG4gICAgdXNlckludGVyZmFjZS5zaG93TWVzc2FnZXMoYFBvciBmYXZvciwgY29tcGxldGUgdG9kb3MgbG9zIGNhbXBvc2AsIGBlcnJvcmApO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gTW9zdHJhciBtZW5zYWplIGRlIGNhcmdhbmRvIChsb2FkZXIpIGUgaW5kaWNhciBxdWUgc2UgZXN0w6EgY2FsY3VsYW5kbyBsYSBjb3RpemFjacOzblxuICB1c2VySW50ZXJmYWNlLnNob3dNZXNzYWdlcyhgQ2FyZ2FuZG8uLi5gLCBgc3VjY2Vzc2ApO1xuXG4gIC8vIEVsaW1pbmFyIGxhcyBjb3RpemFjaW9uZXMgcHJldmlhc1xuICBjb25zdCByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3F1b3RhdGlvbi1yZXN1bHRzIC5yZXN1bHRgKTtcbiAgaWYgKHJlc3VsdHMgIT0gbnVsbCkge1xuICAgIHJlc3VsdHMucmVtb3ZlKCk7XG4gIH1cblxuICAvLyBJbnN0YW5jaWFyIGVsIHNlZ3VybyBkZWwgYXV0b1xuICBjb25zdCBjYXJJbnN1cmFuY2UgPSBuZXcgSW5zdXJhbmNlKHNlbGVjdGVkQnJhbmQsIHNlbGVjdGVkWWVhciwgc2VsZWN0ZWRUeXBlKTtcblxuICAvLyBMbGFtYXIgbGEgZnVuY2nDs24gcGFyYSBjYWxjdWxhciBlbCBjb3N0b1xuICBjb25zdCB0b3RhbCA9IGNhckluc3VyYW5jZS5jYWxjdWxhdGVDb3N0KCk7XG5cbiAgLy8gTW9zdHJhciBsb3MgcmVzdWx0YWRvc1xuICB1c2VySW50ZXJmYWNlLnNob3dSZXN1bHRzKGNhckluc3VyYW5jZSwgdG90YWwpO1xufVxuIl19
